From 2c212eb2b4ed80fc71ec6a3dadc094c6a889d841 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Sat, 26 Feb 2022 17:15:42 -0300
Subject: [PATCH] fix system boost detection

---
 externals/CMakeLists.txt | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/externals/CMakeLists.txt b/externals/CMakeLists.txt
index aa1f737..60d8ff3 100644
--- a/externals/CMakeLists.txt
+++ b/externals/CMakeLists.txt
@@ -10,6 +10,7 @@ include(CheckLib)
 include(ExternalProject)
 
 # Boost
+if (NOT USE_SYSTEM_BOOST)
 set(BOOST_ROOT "${CMAKE_SOURCE_DIR}/externals/boost")
 set(Boost_INCLUDE_DIR "${CMAKE_SOURCE_DIR}/externals/boost")
 set(Boost_NO_SYSTEM_PATHS ON)
@@ -20,6 +21,7 @@ target_include_directories(boost SYSTEM INTERFACE ${Boost_INCLUDE_DIR})
 file(GLOB boost_serialization_SRC "${CMAKE_SOURCE_DIR}/externals/boost/libs/serialization/src/*.cpp")
 add_library(boost_serialization STATIC ${boost_serialization_SRC})
 target_link_libraries(boost_serialization PUBLIC boost)
+endif()
 
 # Add additional boost libs here; remember to ALIAS them in the root CMakeLists!
 
-- 
2.35.1

