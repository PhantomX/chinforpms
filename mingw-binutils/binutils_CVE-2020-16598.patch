diff -rupN --no-dereference binutils-2.34/binutils/debug.c binutils-2.34-new/binutils/debug.c
--- binutils-2.34/binutils/debug.c	2020-01-18 14:55:47.000000000 +0100
+++ binutils-2.34-new/binutils/debug.c	2020-12-18 02:57:25.423017056 +0100
@@ -3277,6 +3277,8 @@ debug_class_type_samep (struct debug_han
              names, since that sometimes fails in the presence of
              typedefs and we really don't care.  */
 	  if (strcmp (f1->name, f2->name) != 0
+	      || f1->type == NULL
+	      || f2->type == NULL
 	      || ! debug_type_samep (info,
 				     debug_get_real_type ((void *) info,
 							  f1->type, NULL),
