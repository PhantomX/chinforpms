From 4c5911b63a8a50470259d95d8fe0638175e31a05 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Mon, 22 Aug 2022 22:58:03 -0300
Subject: [PATCH] Fix translation names

---
 src/duckstation-qt/CMakeLists.txt     |  8 ++++----
 src/duckstation-qt/qttranslations.cpp | 10 +++++-----
 2 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/src/duckstation-qt/CMakeLists.txt b/src/duckstation-qt/CMakeLists.txt
index 33478dc..51b8288 100644
--- a/src/duckstation-qt/CMakeLists.txt
+++ b/src/duckstation-qt/CMakeLists.txt
@@ -151,7 +151,7 @@ set(TS_FILES
   translations/duckstation-qt_de.ts
   translations/duckstation-qt_en.ts
   translations/duckstation-qt_es.ts
-  translations/duckstation-qt_es-es.ts
+  translations/duckstation-qt_es_ES.ts
   translations/duckstation-qt_fr.ts
   translations/duckstation-qt_he.ts
   translations/duckstation-qt_it.ts
@@ -159,11 +159,11 @@ set(TS_FILES
   translations/duckstation-qt_ko.ts
   translations/duckstation-qt_nl.ts
   translations/duckstation-qt_pl.ts
-  translations/duckstation-qt_pt-br.ts
-  translations/duckstation-qt_pt-pt.ts
+  translations/duckstation-qt_pt_BR.ts
+  translations/duckstation-qt_pt_PT.ts
   translations/duckstation-qt_ru.ts
   translations/duckstation-qt_tr.ts
-  translations/duckstation-qt_zh-cn.ts
+  translations/duckstation-qt_zh_CN.ts
 )
 
 set_source_files_properties(${TS_FILES} PROPERTIES OUTPUT_LOCATION "${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/translations")
diff --git a/src/duckstation-qt/qttranslations.cpp b/src/duckstation-qt/qttranslations.cpp
index cb6b498..bd69b21 100644
--- a/src/duckstation-qt/qttranslations.cpp
+++ b/src/duckstation-qt/qttranslations.cpp
@@ -157,7 +157,7 @@ std::vector<std::pair<QString, QString>> QtHost::GetAvailableLanguageList()
   return {{QStringLiteral("English"), QStringLiteral("en")},
           {QStringLiteral("Deutsch"), QStringLiteral("de")},
           {QStringLiteral("Español de Hispanoamérica"), QStringLiteral("es")},
-          {QStringLiteral("Español de España"), QStringLiteral("es-es")},
+          {QStringLiteral("Español de España"), QStringLiteral("es_ES")},
           {QStringLiteral("Français"), QStringLiteral("fr")},
           {QStringLiteral("עברית"), QStringLiteral("he")},
           {QStringLiteral("日本語"), QStringLiteral("ja")},
@@ -165,11 +165,11 @@ std::vector<std::pair<QString, QString>> QtHost::GetAvailableLanguageList()
           {QStringLiteral("Italiano"), QStringLiteral("it")},
           {QStringLiteral("Nederlands"), QStringLiteral("nl")},
           {QStringLiteral("Polski"), QStringLiteral("pl")},
-          {QStringLiteral("Português (Pt)"), QStringLiteral("pt-pt")},
-          {QStringLiteral("Português (Br)"), QStringLiteral("pt-br")},
+          {QStringLiteral("Português (Pt)"), QStringLiteral("pt_PT")},
+          {QStringLiteral("Português (Br)"), QStringLiteral("pt_BR")},
           {QStringLiteral("Русский"), QStringLiteral("ru")},
           {QStringLiteral("Türkçe"), QStringLiteral("tr")},
-          {QStringLiteral("简体中文"), QStringLiteral("zh-cn")}};
+          {QStringLiteral("简体中文"), QStringLiteral("zh_CN")}};
 }
 
 static constexpr const ImWchar s_base_latin_range[] = {
@@ -258,4 +258,4 @@ const QtHost::GlyphInfo* QtHost::GetGlyphInfo(const std::string_view& language)
   }
 
   return nullptr;
-}
\ No newline at end of file
+}
-- 
2.41.0

