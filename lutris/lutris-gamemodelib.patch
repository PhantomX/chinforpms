From 4fdaf3a55741bdc60184f8faa40eabbe4fcaeb6d Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Sun, 19 Jul 2020 18:00:20 -0300
Subject: [PATCH] Fix libgamemodeauto search name

---
 lutris/game.py       | 2 +-
 lutris/util/linux.py | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/lutris/game.py b/lutris/game.py
index 54e628c..b72318e 100644
--- a/lutris/game.py
+++ b/lutris/game.py
@@ -481,7 +481,7 @@ class Game(GObject.Object):
             else:
                 env["LD_PRELOAD"] = ":".join([path for path in [
                     env.get("LD_PRELOAD"),
-                    "libgamemodeauto.so",
+                    "libgamemodeauto.so.0",
                 ] if path])
 
         # LD_LIBRARY_PATH
diff --git a/lutris/util/linux.py b/lutris/util/linux.py
index f361cf4..9fefea3 100644
--- a/lutris/util/linux.py
+++ b/lutris/util/linux.py
@@ -78,7 +78,7 @@ SYSTEM_COMPONENTS = {
         "VULKAN": ["libvulkan.so.1"],
         "WINE": ["libsqlite3.so.0"],
         "RADEON": ["libvulkan_radeon.so"],
-        "GAMEMODE": ["libgamemodeauto.so"],
+        "GAMEMODE": ["libgamemodeauto.so.0"],
     },
 }
 
-- 
2.26.2

