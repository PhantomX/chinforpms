From bbe2823562651a3dbc6ba1f9e0fda1f9984e1225 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Thu, 20 May 2021 21:30:43 -0300
Subject: [PATCH] Use pycryptodomex instead pycryptodome

Fedora only have pycryptodomex
---
 requirements.txt              | 2 +-
 setup.py                      | 2 +-
 yt_dlp/downloader/external.py | 2 +-
 yt_dlp/downloader/hls.py      | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/requirements.txt b/requirements.txt
index 97a6859..a191375 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -1,2 +1,2 @@
 mutagen
-pycryptodome
+pycryptodomex
diff --git a/setup.py b/setup.py
index cebe556..fc69406 100644
--- a/setup.py
+++ b/setup.py
@@ -20,7 +20,7 @@ LONG_DESCRIPTION = '\n\n'.join((
     '**PS**: Many links in this document will not work since this is a copy of the README.md from Github',
     open('README.md', 'r', encoding='utf-8').read()))
 
-REQUIREMENTS = ['mutagen', 'pycryptodome']
+REQUIREMENTS = ['mutagen', 'pycryptodomex']
 
 
 if len(sys.argv) >= 2 and sys.argv[1] == 'py2exe':
diff --git a/yt_dlp/downloader/external.py b/yt_dlp/downloader/external.py
index 89f3ef2..0fc3122 100644
--- a/yt_dlp/downloader/external.py
+++ b/yt_dlp/downloader/external.py
@@ -7,7 +7,7 @@ import sys
 import time
 
 try:
-    from Crypto.Cipher import AES
+    from Cryptodome.Cipher import AES
     can_decrypt_frag = True
 except ImportError:
     can_decrypt_frag = False
diff --git a/yt_dlp/downloader/hls.py b/yt_dlp/downloader/hls.py
index c66902c..0aeeb9c 100644
--- a/yt_dlp/downloader/hls.py
+++ b/yt_dlp/downloader/hls.py
@@ -5,7 +5,7 @@ import re
 import io
 import binascii
 try:
-    from Crypto.Cipher import AES
+    from Cryptodome.Cipher import AES
     can_decrypt_frag = True
 except ImportError:
     can_decrypt_frag = False
-- 
2.31.1

