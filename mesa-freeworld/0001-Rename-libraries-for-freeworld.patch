From 67bc772166f9364a8c79679906d1214daf9a84da Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Sat, 15 Nov 2025 15:32:17 -0300
Subject: [PATCH] Rename libraries for freeworld

---
 src/amd/vulkan/meson.build   | 6 +++---
 src/intel/vulkan/meson.build | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/src/amd/vulkan/meson.build b/src/amd/vulkan/meson.build
index 78b19aa..58226bd 100644
--- a/src/amd/vulkan/meson.build
+++ b/src/amd/vulkan/meson.build
@@ -242,7 +242,7 @@ if radv_build_id != ''
 endif
 
 libvulkan_radeon = shared_library(
-  'vulkan_radeon',
+  'vulkan_radeon_freeworld',
   [libradv_files, radv_entrypoints, sha1_h, radix_sort_spv, bvh_spv, radv_annotate_layer],
   vs_module_defs : vulkan_api_def,
   include_directories : [
@@ -283,7 +283,7 @@ if with_symbols_check
   )
 endif
 
-icd_file_name = libname_prefix + 'vulkan_radeon.' + libname_suffix
+icd_file_name = libname_prefix + 'vulkan_radeon_freeworld.' + libname_suffix
 
 icd_command = [
   prog_python, '@INPUT0@',
@@ -299,7 +299,7 @@ endif
 radeon_icd = custom_target(
   'radeon_icd',
   input : [vk_icd_gen, vk_api_xml],
-  output : 'radeon_icd.@0@.json'.format(host_machine.cpu()),
+  output : 'radeon_icd_freeworld.@0@.json'.format(host_machine.cpu()),
   command : icd_command,
   build_by_default : true,
   install_dir : with_vulkan_icd_dir,
diff --git a/src/intel/vulkan/meson.build b/src/intel/vulkan/meson.build
index e8f61a0..0582de2 100644
--- a/src/intel/vulkan/meson.build
+++ b/src/intel/vulkan/meson.build
@@ -45,12 +45,12 @@ else
   anv_flags += '-DANV_SUPPORT_RT=0'
 endif
 
-icd_file_name = libname_prefix + 'vulkan_intel.' + libname_suffix
+icd_file_name = libname_prefix + 'vulkan_intel_freeworld.' + libname_suffix
 
 intel_icd = custom_target(
   'intel_icd',
   input : [vk_icd_gen, vk_api_xml],
-  output : 'intel_icd.@0@.json'.format(host_machine.cpu()),
+  output : 'intel_icd_freeworld.@0@.json'.format(host_machine.cpu()),
   command : [
     prog_python, '@INPUT0@',
     '--api-version', '1.4', '--xml', '@INPUT1@',
@@ -253,7 +253,7 @@ libanv_common = static_library(
 )
 
 libvulkan_intel = shared_library(
-  'vulkan_intel',
+  'vulkan_intel_freeworld',
   [files('anv_gem.c'), anv_entrypoints[0], bvh_spv],
   include_directories : [
     inc_include, inc_src, inc_intel,
-- 
2.51.1

