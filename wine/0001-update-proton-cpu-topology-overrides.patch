From 3a372c303221aed9685310a1ecb674bfe8276db2 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Sat, 11 Dec 2021 17:21:36 -0300
Subject: [PATCH] update proton-cpu-topology-overrides

---
 patch1031.patch | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/patch1031.patch b/patch1031.patch
index ff88870..482ca7c 100644
--- a/patch1031.patch
+++ b/patch1031.patch
@@ -448,9 +448,9 @@ index 97e074a5261..d1f9ab764f7 100644
      process->esync_fd        = -1;
      process->fsync_idx       = 0;
 +    process->cpu_override.cpu_count = 0;
+     process->fast_sync       = NULL;
      list_init( &process->kernel_object );
      list_init( &process->thread_list );
-     list_init( &process->locks );
 @@ -1368,6 +1370,8 @@ DECL_HANDLER(init_process_done)
  {
      struct process_dll *dll;
@@ -479,9 +479,9 @@ index 430fd365508..d1b8b3fc222 100644
      int                  esync_fd;        /* esync file descriptor (signaled on exit) */
      unsigned int         fsync_idx;
 +    struct cpu_topology_override cpu_override; /* Overridden CPUs to host CPUs mapping. */
+     struct fast_sync    *fast_sync;       /* fast synchronization object */
  };
  
- #define CPU_FLAG(cpu) (1 << (cpu))
 diff --git a/server/protocol.def b/server/protocol.def
 index 48f9f4fae90..0f2fe077b80 100644
 --- a/server/protocol.def
-- 
2.33.1

