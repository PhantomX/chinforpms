From d20205460ff81fbfe18f38c6db2bc170f47e73f5 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Sat, 14 Mar 2020 17:48:55 -0300
Subject: [PATCH] dlsym: fix soname search

---
 src/gl/real_dlsym.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/gl/real_dlsym.cpp b/src/gl/real_dlsym.cpp
index f570a1d..47ad5f4 100644
--- a/src/gl/real_dlsym.cpp
+++ b/src/gl/real_dlsym.cpp
@@ -10,7 +10,7 @@ void* real_dlsym( void* handle, const char* name )
     static void *(*the_real_dlsym)( void*, const char* );
 
     if (!the_real_dlsym) {
-        void* libdl = dlopen( "libdl.so", RTLD_NOW | RTLD_LOCAL );
+        void* libdl = dlopen( "libdl.so.2", RTLD_NOW | RTLD_LOCAL );
         the_real_dlsym = reinterpret_cast<decltype(the_real_dlsym)> (__libc_dlsym( libdl, "dlsym" ));
     }
 
-- 
2.24.1

