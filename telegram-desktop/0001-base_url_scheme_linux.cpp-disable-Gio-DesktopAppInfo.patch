From bc990255db540cc780271920ca6997ef5b29f937 Mon Sep 17 00:00:00 2001
From: Phantom X <PhantomX@users.noreply.github.com>
Date: Thu, 18 Sep 2025 18:38:06 -0300
Subject: [PATCH] base_url_scheme_linux.cpp: disable Gio::DesktopAppInfo
 snippet

---
 Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
index 8e0ec85..8bc8822 100644
--- a/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
+++ b/Telegram/lib_base/base/platform/linux/base_url_scheme_linux.cpp
@@ -115,6 +115,7 @@ void RegisterUrlScheme(const UrlSchemeDescriptor &descriptor) {
 		"--",
 	}).toStdString();
 
+#if 0
 	const auto appId = QGuiApplication::desktopFileName().toStdString();
 	if (!appId.empty()) {
 		Gio::AppInfo appInfo = Gio::DesktopAppInfo::new_(appId + ".desktop");
@@ -125,6 +126,7 @@ void RegisterUrlScheme(const UrlSchemeDescriptor &descriptor) {
 			}
 		}
 	}
+#endif
 
 	auto newAppInfo = Gio::AppInfo::create_from_commandline(
 		commandlineForCreator,
-- 
2.51.0

